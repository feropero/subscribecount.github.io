'use strict';var chartStore=[];if(!stat.devMode)try{(window.top!==window.self||window.top.location!==window.self.location)&&(window.top.location=window.self.location)}catch(d){if(stat.devMode)throw d}function idClickListener(d,f){doc.i(d).addEventListener('click',f)}function queryClickListener(d,f){var g=doc.a(d);g.forEach(function(h){h.addEventListener('click',f)})}function fx(d){var f=doc.i(d),g=1e3/60;return fx.xnor=function(h,j){return h&&j||!h&&!j},fx.transition=function(h,j,k,m,o){var p=Date.now(),q=k*Math.round((p-m)/g);fx.xnor(j>h,j>h+q)?(o(h+q),'function'==typeof window.requestAnimationFrame?requestAnimationFrame(function(){fx.transition(h+q,j,k,p,o)}):setTimeout(function(){fx.transition(h+q,j,k,p,o)},g)):o(j)},fx.fadeIn=function(h){if('none'===window.getComputedStyle(f).getPropertyValue('display')){h=def(h,400);var j;f.dataset.fxOpacity=j=+(f.dataset.fxOpacity||f.style.opacity||1),f.style.display=f.dataset.fxDisplay?f.dataset.fxDisplay:'block',fx.transition(0,j,j*g/h,Date.now(),function(k){f.style.opacity=k})}},fx.fadeOut=function(h){if('none'!==window.getComputedStyle(f).getPropertyValue('display')){h=def(h,400);var j;f.dataset.fxOpacity=j=+(f.dataset.fxOpacity||f.style.opacity||1),f.dataset.fxDisplay=window.getComputedStyle(f).getPropertyValue('display'),fx.transition(j,0,-1*j*g/h,Date.now(),function(k){f.style.opacity=k}),setTimeout(function(){f.style.display='none'},h)}},fx}function setEmail(){var d=['urana20','ma','nas.kh','gmail','com','&#46;','&#64;'];doc.i('email').innerHTML=d[1]+d[2]+d[0]+d[6]+d[3]+d[5]+d[4],doc.i('email').href='mailto:'+getText('email')}setEmail(),[['inputButton',function(){getValue()}],['fb',function(){window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(getText(doc.q('#pageUrl input'))),'_blank')}],['tw',function(){window.open('https://twitter.com/share?text='+getText('username')+' now has  '+channel.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,',')+' subscribers!&url= '+encodeURIComponent(getText(doc.q('#pageUrl input')))+'&hashtags=YouCount','_blank')}],['lnkdIn',function(){window.open('https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(getText(doc.q('#pageUrl input')))+'&title='+encodeURIComponent(channel.name)+'\'s%20Live%20Subscriber%20Count&source=YouCount','_blank')}],['tb',function(){window.open('http://www.tumblr.com/share/link?url='+encodeURIComponent(getText(doc.q('#pageUrl input'))),'_blank')}],['rdit',function(){window.open('http://www.reddit.com/submit?url='+encodeURIComponent(getText(doc.q('#pageUrl input')))+'&title='+encodeURIComponent(channel.name)+'s%20Live%20Subscriber%20Count','_blank')}],['link',linkshare],['bg2',function(){tutorial.switch?tutorial.func(3):(fx('pageUrl').fadeOut(250),fx('bg2').fadeOut(500))}]].forEach(function(d){idClickListener(d[0],d[1])}),queryClickListener('.suggest',function(d){stat.internet&&d.target.dataset.id&&-1===['Loading.','Loading..','Loading...'].indexOf(d.target.innerHTML)&&(tutorial.switch&&tutorial.func(3),reloadChannel(d.target.dataset.id))}),['showextra','hideextra'].forEach(function(d){idClickListener(d,extraToggle)});var tutorial={switch:!1,step:0,func:function func(d){function f(m){m?(fx('tutorial').fadeIn(),fx('bg2').fadeIn()):(fx('tutorial').fadeOut(),fx('bg2').fadeOut())}function g(m){var o=m?['1004','1004']:['50','51'];doc.i('input').style.zIndex=o[0],doc.i('suggest').style.zIndex=o[1]}function h(m){doc.i('tutStep'+m).style.display='block',doc.i('tutStep'+(m%2+1)).style.display='none'}function j(m){var o=doc.i(m).getBoundingClientRect().bottom;doc.i('tutorial').style.top=o+35+'px'}var k={isChanging:!1,change:function change(){!k.isChanging&&tutorial.switch&&(k.isChanging=!0,tutorial.func(tutorial.step-1),setTimeout(function(){k.isChanging=!1},100))}};switch(null!==handleNav.state&&handleNav.func(handleNav.state),tutorial.switch=!0,tutorial.step=d+1,window.scrollTo(0,0),d){case 0:f(!0),g(!0),h(1),j('username'),changeText('username',''),changeText('actualCount','Tutorial'),channel.live.stopInterval(),doc.i('tutorial').addEventListener('click',function(){1===tutorial.step&&doc.i('username').focus()}),window.onresize=k.change;break;case 1:h(2),j('username');break;case 2:h(2),j('suggest');break;case 3:f(!1),g(!1),changeText('username',channel.name),tutorial.switch=!1,tutorial.step=0,doc.i('tutorial').onclick=null,window.onresize=null;break;default:tutorial.switch=!1,tutorial.step=0,doc.i('tutorial').onclick=null,window.onresize=null;}}};tutorial.switch&&tutorial.func(0);var shareButton={switch:!1,transition:!1,func:function func(){if(!shareButton.transition){shareButton.transition=!0;var d=200,f=doc.a('.share');shareButton.switch?shareButton.switch&&(handleNav.state=null,f.forEach(function(g){fx(g.id).fadeOut(d)}),setTimeout(function(){shareButton.switch=!1,shareButton.transition=!1,document.body.removeEventListener('click',shareButton.func)},d)):(f.forEach(function(g,h){setTimeout(function(){fx(g.id).fadeIn(d)},40*(h+1))}),setTimeout(function(){shareButton.switch=!0,shareButton.transition=!1,queryClickListener('body',shareButton.func)},d+40*f.length))}}},handleNav={state:null,transition:!1,scrollYPos:0,close:function close(){if(doc.i('bg1').style.height='100%',doc.i('bg1').style.position='fixed',doc.i('bg1').classList.add('ball'),doc.i('mainPage').style.display='block',2===handleNav.state||3===handleNav.state){var d=['help','code'][handleNav.state-2];doc.i(d+'Art').style.display='none',doc.i(d+'Art').style.opacity='0',doc.q('.navButtonsCover[data-child="'+d+'"]').style.backgroundColor='transparent',window.scrollTo(0,handleNav.scrollYPos)}},open:function open(d){handleNav.scrollYPos=window.scrollY,doc.i('bg1').classList.remove('ball'),doc.q('.navButtonsCover[data-child="'+d+'"]').style.backgroundColor='rgba(0,0,0,0.5)',setTimeout(function(){window.scrollTo(0,0),doc.i('bg1').style.position='absolute',doc.i('bg1').style.height='auto',doc.i('mainPage').style.display='none',fx(d+'Art').fadeIn(200)},500)},func:function func(d){handleNav.transition||(null===handleNav.state?(handleNav.state=d,handleNav.transition=!0,setTimeout(function(){handleNav.transition=!1},700),1===d?location.hash&&(location.href=location.href.split(location.hash)[0]):2===d||3===d?handleNav.open(['help','code'][d-2]):4==d&&shareButton.func()):(handleNav.transition=!0,handleNav.close(),setTimeout(function(){handleNav.state=null,handleNav.transition=!1},500),handleNav.state!==d&&setTimeout(function(){handleNav.func(d)},500)))}};doc.i('username').addEventListener('keyup',function(){suggest.isShowing||suggest.load(),suggest.inputChange=!0});var suggest={containers:doc.a('.suggest'),texts:doc.a('.suggest div'),images:doc.a('.suggestImg'),isShowing:!1,inputChange:!1,interval:null,whenImageLoaded:function whenImageLoaded(d){return new Promise(function(f){d.addEventListener('load',f)})},load:function load(){doc.i('suggest').style.display='block',doc.a('.suggest').forEach(function(d,f){0===f?(d.style.display='block',d.childNodes[0].style.visibility='hidden',loading.func(d.childNodes[1])):d.style.display='none'}),tutorial.switch&&tutorial.func(2),suggest.interval=setInterval(suggest.handle,1e3),suggest.isShowing=!0},hide:function hide(){doc.i('suggest').style.display='none',clearInterval(suggest.interval),suggest.isShowing=suggest.inputChange=!1,tutorial.switch&&tutorial.func(1)},handle:function handle(){try{if(!suggest.inputChange)return;if(!stat.internet)return void changeText('username','Refresh the page');var d=getText('username');!d||-1<['Not Found!','Loading.','Loading..','Loading...','Refresh the page'].indexOf(d)?suggest.hide():(suggest.inputChange=!1,ajx('https://www.googleapis.com/youtube/v3/search?part=snippet&q='+encodeURIComponent(d)+'&type=channel&maxResults=5&relevanceLanguage=en&key='+keys.gen(),function(f){if(!f.items)throw'undef e.items in username keyup (script.js)';1>f.pageInfo.totalResults||(f.items.forEach(function(g,h){suggest.containers[h].style.display='block',changeText(suggest.texts[h],g.snippet.title),suggest.images[h].src=g.snippet.thumbnails.default.url,suggest.images[h].style.visibility='hidden',suggest.whenImageLoaded(suggest.images[h]).then(function(){suggest.images[h].style.visibility='visible'}),suggest.containers[h].dataset.id=suggest.texts[h].dataset.id=suggest.images[h].dataset.id=g.snippet.channelId.trim()}),suggest.containers.forEach(function(g,h){h>=f.items.length&&(g.style.display='none')}),tutorial.switch&&tutorial.func(2))}))}catch(f){stat.error('suggest.handle: '+f+' (script.js)',!0)}}},loading={list:[],interval:null,func:function func(d){if(d&&-1===loading.list.indexOf(d))0===loading.list.length&&(loading.interval=setInterval(function(){loading.func()},500)),changeText(d,'Loading.'),loading.list.push(d);else if(0===loading.list.length)clearInterval(loading.interval);else{var f=['Loading.','Loading..','Loading...'];loading.list=loading.list.filter(function(g){var h=f.indexOf(getText(g));return!!(0<=h)&&(changeText(g,f[(h+1)%3]),!0)})}}};function linkshare(){fx('pageUrl').fadeIn(250),fx('bg2').fadeIn(500),channel.id&&location.hash.split('#!/')[1]||changeText(doc.q('#pageUrl input'),'https://youcount.github.io/')}stat.internet&&doc.a('.share').forEach(function(d){d.style.backgroundImage='url(/images/social.png)'});for(var l=50;0<l;l--)channel.views.push(l);function pushViews(d,f,g){ajx(d,function(h){channel.views[f]=h.items[0].statistics.viewCount,49===f&&'function'==typeof g&&g()})}function getViews(d){var f='https://www.googleapis.com/youtube/v3/channels?part=contentDetails&id='+channel.id+'&fields=items/contentDetails/relatedPlaylists/uploads&key='+keys.gen();ajx(f,function(g){var h='https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId='+g.items[0].contentDetails.relatedPlaylists.uploads+'&maxResults=50&fields=items/snippet/resourceId/videoId&key='+keys.gen();ajx(h,function(j){j.items.forEach(function(k,m){var o='https://www.googleapis.com/youtube/v3/videos?part=statistics&id='+k.snippet.resourceId.videoId+'&fields=items/statistics/viewCount&key='+keys.gen();pushViews(o,m,d)})})})}function getMisc(d){var f='https://www.googleapis.com/youtube/v3/channels?part=statistics&id='+channel.id+'&fields=items/statistics(videoCount,viewCount)&key='+keys.gen();ajx(f,function(g){if(!g.items[0].statistics.videoCount||!g.items[0].statistics.viewCount)throw'4. undef b.items[0].statistics.videoCount or b.items[0].statistics.viewCount in extraToggle(script.js)';changeText('totalVideos',g.items[0].statistics.videoCount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,',')),changeText('totalViews',g.items[0].statistics.viewCount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,',')),'function'==typeof d&&d()})}function getChartData(d){function f(){function h(k,m){return k+ +m}var j=[];return j[0]=channel.views.slice(0,channel.vids).reduce(h,0),j[1]=channel.views.slice(channel.vids,2*channel.vids).reduce(h,0),j}if(0===d)return[channel.count];if(1===d)return channel.views.slice(0,channel.vids);if(2===d){var g=f();return[Math.floor(g[0]/channel.vids),Math.floor(g[1]/channel.vids)]}return 3===d?f():void 0}function getChartLabels(d){if(0===d)return[''];return 1===d?Array(channel.vids).fill(''):2===d?['Last '+channel.vids+' videos','Last to last '+channel.vids+' videos']:3===d?['Last '+channel.vids+' videos (total views)','Last to last '+channel.vids+' videos (total views)']:void 0}function createCharts(){var d=[];d[0]={labels:getChartLabels(0),datasets:[{label:'Realtime Trend (30s)',fill:!1,borderColor:'rgba(255,50,50,0.5)',pointRadius:0,data:getChartData(0)}]},chartStore[0]=new Chart(doc.i('chart0').getContext('2d'),{type:'line',data:d[0],gridLines:{display:!1},responsive:!0,maintainAspectRatio:!1,options:{scales:{yAxes:[{ticks:{precision:0}}]}}}),d[1]={labels:getChartLabels(1),datasets:[{label:'Views of last '+channel.vids+' videos',fill:!1,borderColor:'rgba(255,50,50,0.5)',pointBorderColor:'rgba(255,50,50,0.5)',pointBackgroundColor:'rgba(255,50,50,1)',data:getChartData(1)}]},chartStore[1]=new Chart(doc.i('chart1').getContext('2d'),{type:'line',data:d[1],gridLines:{display:!1},responsive:!0,maintainAspectRatio:!1}),d[2]={labels:getChartLabels(2),datasets:[{label:'Average Views',borderColor:['rgba(0,0,255,1)','rgba(0,255,0,1)'],backgroundColor:['rgba(50,50,255,0.2)','rgba(50,255,50,0.2)'],hoverBackgroundColor:['rgba(0,0,255,1)','rgba(0,255,0,1)'],data:getChartData(2)}]},chartStore[2]=new Chart(doc.i('chart2').getContext('2d'),{type:'bar',data:d[2],gridLines:{display:!1},responsive:!0,maintainAspectRatio:!1,options:{scales:{yAxes:[{ticks:{min:0}}]}}}),d[3]={labels:getChartLabels(3),datasets:[{label:'Total Views',borderColor:['rgba(0,0,255,1)','rgba(0,255,0,1)'],backgroundColor:['rgba(50,50,255,0.2)','rgba(50,255,50,0.2)'],hoverBackgroundColor:['rgba(0,0,255,1)','rgba(0,255,0,1)'],data:getChartData(3)}]},chartStore[3]=new Chart(doc.i('chart3').getContext('2d'),{type:'doughnut',data:d[3],gridLines:{display:!1},responsive:!0,maintainAspectRatio:!1})}function extraToggle(){try{if(!stat.internet||stat.notFound||tutorial.switch||1===stat.scripts.chartjs)return;channel.id?0===stat.scripts.chartjs?(stat.scripts.chartjs=1,loading.func('showextra'),getScript('https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js',function(){getViews(function(){createCharts(),stat.scripts.chartjs=2,extraToggle()}),getMisc()})):stat.extra?stat.extra&&(fx('showextra').fadeIn(),fx('hideextra').fadeOut(100),doc.i('extraContent').style.display='none',resetChart0(),stat.extra=!1):(changeText('showextra','Show Stats'),fx('showextra').fadeOut(),fx('hideextra').fadeIn(),doc.i('extraContent').style.display='block',channel.live.seconds=0,stat.extra=!0):tutorial.func(0)}catch(d){if(stat.devMode)throw'extraToggle:'+d}}function updateCharts(){return 1>=stat.scripts.chartjs?void stat.error('updateCharts was called chartjs was loaded',!0):void(channel.vids=+getText('vids'),25<channel.vids&&(channel.vids=25,changeText('vids',channel.vids)),chartStore.forEach(function(d,f){0!==f&&(d.data.datasets[0].data=getChartData(f),d.data.labels=getChartLabels(f),1===f&&(d.data.datasets[0].label='Views of last '+channel.vids+' videos'),d.update())}))}function resetChart0(){channel.live.seconds=0,channel.live.prevCounts=[],chartStore[0].data.labels=[],chartStore[0].data.datasets[0].data=[],chartStore[0].update()}